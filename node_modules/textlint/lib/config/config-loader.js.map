{"version":3,"sources":["../../src/config/config-loader.js"],"names":[],"mappings":";AACA,YAAY,CAAC;AACb,IAAM,EAAE,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAChC,IAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AAC1C,IAAM,cAAc,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAClD,SAAS,cAAc,CAAC,QAAQ,EAAE,mBAAmB,EAAE;AACnD,QAAI,QAAQ,IAAI,IAAI,EAAE;AAClB,eAAO,KAAK,CAAC;KAChB;;AAED,WAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;CACrF;AACD,SAAS,IAAI,CAAC,cAAc,EAAE,IAAoC,EAAE;QAArC,cAAc,GAAf,IAAoC,CAAnC,cAAc;QAAC,mBAAmB,GAAnC,IAAoC,CAApB,mBAAmB;;AAC7D,QAAI,cAAc,CAAC,cAAc,EAAE,mBAAmB,CAAC,EAAE;;;AAGrD,eAAO,cAAc,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC,CAAC;KACrD,MAAM;;AAEH,YAAM,MAAM,GAAG,cAAc,GAAG,EAAC,MAAM,EAAE,cAAc,EAAC,GAAG,IAAI,CAAC;AAChE,eAAO,EAAE,CAAC,cAAc,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;KACzC;CACJ;AACD,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC","file":"config-loader.js","sourcesContent":["// LICENSE : MIT\n'use strict';\nconst rc = require('rc-loader');\nconst tryResolve = require('try-resolve');\nconst interopRequire = require('interop-require');\nfunction isConfigModule(filePath, configPackagePrefix) {\n    if (filePath == null) {\n        return false;\n    }\n    // scoped module package || textlint-config-* module\n    return filePath.charAt(0) === '@' || filePath.indexOf(configPackagePrefix) !== -1;\n}\nfunction load(configFilePath, {configFileName,configPackagePrefix}) {\n    if (isConfigModule(configFilePath, configPackagePrefix)) {\n        // config as a module - shared config\n        // FIXME: not tested function\n        return interopRequire(tryResolve(configFilePath));\n    } else {\n        // auto or specify config file\n        const config = configFilePath ? {config: configFilePath} : null;\n        return rc(configFileName, {}, config);\n    }\n}\nmodule.exports = load;\n"]}